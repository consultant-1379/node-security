<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>com.ericsson.nms.security.nscs</groupId>
        <artifactId>node-security-project-testsuite-integration</artifactId>
        <version>1.173.2-SNAPSHOT</version>
        <relativePath>../pom.xml</relativePath>
    </parent>
    <artifactId>node-security-project-testsuite-integration-jee</artifactId>
    <name>[${project.parent.artifactId}] TestSuite Integration JEE</name>
	
	<properties>
		<!-- Redefinitions -->
		<!-- Dps version re-defined to start neo4j java application -->
		<!-- ERICdpsjparuntime_CXP9031381, ERICdpsneo4j_CXP9032728, ERICdpsruntimeimpl_CXP9030468 -->
		<version.dps>2.87.3</version.dps>
		<version.neo4.jca.rar>1.65.2</version.neo4.jca.rar>
                <!--
		<version.dps>2.99.2</version.dps>
                -->
		<!-- neo4j-java-driver-harness-1.65.2-shaded.jar -->
		<version.neo4j-java-driver-harness-jar>1.65.2</version.neo4j-java-driver-harness-jar>
		<!-- no CXP repo Modeling-BOM-->
		<version.modeling.bom>21.1.5</version.modeling.bom>
		<!-- Temporarily redefined -->
		<!-- ERICfmprocessedeventmodel_CXP9030673 -->
		<version.fm-model>1.75.1</version.fm-model>

	</properties>

	<dependencyManagement>
		<dependencies>
			<!-- Import Model-Service BOM -->
			<dependency>
				<groupId>com.ericsson.oss.itpf.modeling</groupId>
				<artifactId>Modeling-BOM</artifactId>
				<version>${version.modeling.bom}</version>
				<type>pom</type>
				<scope>import</scope>
			</dependency>
			<dependency>
				<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
				<artifactId>data-persistence-service-bom</artifactId>
				<version>${version.dps}</version>
				<type>pom</type>
				<scope>import</scope>
				<exclusions>
					<exclusion>
						<groupId>com.ericsson.oss.itpf.modeling</groupId>
						<artifactId>Modeling-BOM</artifactId>
					</exclusion>
				</exclusions>
			</dependency>
		</dependencies>
	</dependencyManagement>

	<dependencies>
		<!-- Arquillian -->
		<dependency>
			<groupId>org.jboss.arquillian.junit</groupId>
			<artifactId>arquillian-junit-container</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.jboss.arquillian.protocol</groupId>
			<artifactId>arquillian-protocol-servlet</artifactId>
			<scope>test</scope>
		</dependency>
		<!-- Shrinkwrap -->
		<dependency>
			<groupId>org.jboss.shrinkwrap.resolver</groupId>
			<artifactId>shrinkwrap-resolver-impl-maven</artifactId>
			<scope>test</scope>
		</dependency>
		<!-- Arquillian Suite Extension to manage multiple testsuite in a single deployment -->
		<dependency>
			<groupId>org.eu.ingwar.tools</groupId>
			<artifactId>arquillian-suite-extension</artifactId>
			<version>${version.arquillian-suite-extension}</version>
			<exclusions>
				<exclusion>
					<groupId>*</groupId>
					<artifactId>*</artifactId>
				</exclusion>
			</exclusions>
			<scope>test</scope>
		</dependency>
		<!-- logging in tests -->
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-log4j12</artifactId>
			<scope>test</scope>
		</dependency>
		<!-- Dps -->
		<!--dependency>
			<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
			<artifactId>dps-ejb</artifactId>
			<version>${version.dps}</version>
			<type>ejb</type>
			<classifier>eap7</classifier>
			<scope>runtime</scope>
		</dependency-->
		<dependency>
			<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
			<artifactId>dps-ear</artifactId>
			<version>${version.dps}</version>
			<type>ear</type>
			<classifier>eap7</classifier>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
			<artifactId>dps-neo4j-ear</artifactId>
			<version>${version.dps}</version>
			<type>ear</type>
			<classifier>eap7</classifier>
			<scope>runtime</scope>
		</dependency>
		<!--<dependency>-->
		<!--<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>-->
		<!--<artifactId>dps-api</artifactId>-->
		<!--<scope>provided</scope>-->
		<!--</dependency>-->

		<!--To deploy ear from Arquillian at runtime -->
		<dependency>
			<groupId>com.ericsson.nms.security.nscs</groupId>
			<artifactId>node-security-ear</artifactId>
			<version>${project.version}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.common</groupId>
			<artifactId>PlatformIntegrationBridge-ear</artifactId>
			<version>${version.pib}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.cm</groupId>
			<artifactId>script-engine-ear</artifactId>
			<version>${version.script-engine}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.cm</groupId>
			<artifactId>cm-reader-ear</artifactId>
			<version>${version.cm-reader}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.cm</groupId>
			<artifactId>cm-writer-ear</artifactId>
			<version>${version.cm-writer}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.wfs</groupId>
			<artifactId>wfs-jee-ear</artifactId>
			<version>${version.wfs}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.security.workflow</groupId>
			<artifactId>security-workflows-war</artifactId>
			<version>${version.security-workflows}</version>
			<type>war</type>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>mock-pki-manager-ear</artifactId>
			<version>${version.mock-pki-manager}</version>
			<type>ear</type>
			<scope>test</scope>
		</dependency>
		<!-- To Build identity-manager-mock-service-ear at runtime -->
		<dependency>
			<groupId>com.ericsson.nms.security</groupId>
			<artifactId>identitymgmtservices-api</artifactId>
			<version>${version.identitymgmtservices}</version>
			<scope>test</scope>
		</dependency>
		<!-- To Build smrs-mock-service-ear at runtime -->
		<dependency>
			<groupId>com.ericsson.nms.security</groupId>
			<artifactId>smrs-service-api</artifactId>
			<version>${version.smrs-service}</version>
			<scope>test</scope>
		</dependency>

		<!-- For nscs-test -->
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>node-security-api</artifactId>
			<version>${project.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>node-security-ejb</artifactId>
			<version>${project.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>node-security-vs-jar</artifactId>
			<version>${project.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>node-security-jar</artifactId>
			<version>${project.version}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>pki-manager-profilemanagement-api</artifactId>
			<version>${version.pki-manager-api}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>pki-manager-certificatemanagement-api</artifactId>
			<version>${version.pki-manager-api}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>pki-manager-common-model</artifactId>
			<version>${version.pki-manager-api}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>pki-common-model</artifactId>
			<version>${version.pki-common}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>pki-manager-api-jar</artifactId>
			<version>${version.pki-manager-api}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>mock-pki-manager-api</artifactId>
			<version>${version.mock-pki-manager}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.model.security</groupId>
			<artifactId>nodesecuritymodel-jar</artifactId>
			<version>${version.nodesecuritymodel}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.jboss.resteasy</groupId>
			<artifactId>resteasy-jaxrs</artifactId>
			<version>${version.resteasy}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.services.wfs</groupId>
			<artifactId>wfs-jee-remote-api</artifactId>
			<version>${version.wfs}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.security</groupId>
			<artifactId>key-management-jar</artifactId>
			<version>${version.key-management-jar}</version>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.bouncycastle</groupId>
			<artifactId>bcprov-jdk15on</artifactId>
			<version>${version.bouncycastle}</version>
			<scope>provided</scope>
		</dependency>
		<!-- Access control -->
		<dependency>
			<groupId>com.ericsson.oss.itpf.sdk</groupId>
			<artifactId>sdk-security-accesscontrol-api</artifactId>
			<scope>provided</scope>
		</dependency>
		<dependency>
			<groupId>com.ericsson.oss.itpf.sdk</groupId>
			<artifactId>sdk-security-accesscontrol-non-cdi</artifactId>
			<scope>provided</scope>
		</dependency>
		<!-- Used by IpSecWorkflowTest -->
		<dependency>
			<groupId>com.ericsson.oss.services.wfs</groupId>
			<artifactId>wfs-api</artifactId>
			<version>${version.wfs}</version>
			<scope>provided</scope>
		</dependency>
	</dependencies>

	<profiles>
		<profile>
			<id>skip_jee</id>
			<activation>
				<property><name>ts.skip.integration.jee</name></property>
			</activation>
			<properties>
				<maven.test.skip>true</maven.test.skip>
			</properties>
		</profile>
		<profile>
			<id>jboss_managed_local</id>
			<activation>
			</activation>

			<properties>
				<jboss.home>${project.build.directory}/jboss-eap-${version.jboss.as}</jboss.home>
				<generated.dps.ear.dir>${jboss.home}/standalone/deployments</generated.dps.ear.dir>
				<neo4jDir>${project.build.directory}/neo4j</neo4jDir>
			</properties>
			<dependencies>
				<dependency>
					<groupId>org.wildfly.arquillian</groupId>
					<artifactId>wildfly-arquillian-container-managed</artifactId>
					<version>${version.wildfly-arquillian-container-managed}</version>
					<scope>test</scope>
				</dependency>
			</dependencies>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-dependency-plugin</artifactId>
						<executions>
							<execution>
								<id>unpack</id>
								<phase>generate-sources</phase>
								<goals>
									<goal>unpack</goal>
								</goals>
								<configuration>
									<artifactItems>
										<artifactItem>
											<groupId>org.jboss.as</groupId>
											<artifactId>jboss-as-dist</artifactId>
											<version>${version.jboss.as}</version>
											<type>zip</type>
											<overWrite>false</overWrite>
											<outputDirectory>target/</outputDirectory>
										</artifactItem>
										<!-- Service Framework -->
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.sdk</groupId>
											<artifactId>service-framework-bundle</artifactId>
											<version>${version.service.framework}</version>
											<type>tar.gz</type>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<!-- Model service API & IMPL-->
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.modeling</groupId>
											<artifactId>model-service-api-module</artifactId>
											<type>zip</type>
											<classifier>package</classifier>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.modeling</groupId>
											<artifactId>model-service-module</artifactId>
											<type>zip</type>
											<classifier>package</classifier>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
											<artifactId>dps-api-module</artifactId>
											<classifier>package</classifier>
											<type>zip</type>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<!-- engine api -->
										<artifactItem>
											<groupId>com.ericsson.nms.mediation</groupId>
											<artifactId>core-mediation-engine-api-module</artifactId>
											<version>${version.mediation.sdk}</version>
											<classifier>engine-api-module</classifier>
											<type>zip</type>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<!-- Camunda & Workflows-->
										<artifactItem>
											<groupId>org.camunda.bpm.wildfly</groupId>
											<artifactId>camunda-wildfly-modules</artifactId>
											<version>${version.camunda}</version>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.wfs</groupId>
											<artifactId>wfs-jboss-module</artifactId>
											<version>${version.wfs}</version>
											<type>zip</type>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<!-- cryptography service -->
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.security.cryptography</groupId>
											<artifactId>cryptography-service-api-module</artifactId>
											<version>${version.cryptography.service.api}</version>
											<classifier>package</classifier>
											<type>zip</type>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.security.cryptography</groupId>
											<artifactId>cryptography-service-module</artifactId>
											<version>${version.cryptography.service.api.impl}</version>
											<classifier>package</classifier>
											<type>zip</type>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.presentation.server</groupId>
											<artifactId>web-push-jboss-module</artifactId>
											<version>${version.webpush.bom}</version>
											<type>zip</type>
											<overWrite>true</overWrite>
											<outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
										</artifactItem>

										<!-- Needed for cm-reader & cm-writer -->
										<artifactItem>
                                            <groupId>com.ericsson.oss.services.cm</groupId>
                                            <artifactId>cmedit-common-module</artifactId>
                                            <version>${version.cmedit-common}</version>
                                            <type>zip</type>
                                            <classifier>package</classifier>
                                            <outputDirectory>${jboss.home}/modules/system/layers/base</outputDirectory>
                                        </artifactItem>
									</artifactItems>
								</configuration>
							</execution>
							<execution>
								<id>copy-model</id>
								<phase>generate-sources</phase>
								<goals>
									<goal>copy</goal>
								</goals>
								<!-- Models -->
								<configuration>
									<artifactItems>
										<!-- CM models -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.ned</groupId>
											<artifactId>cm-function-model-models</artifactId>
											<version>${version.cm-function-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.cm</groupId>
											<artifactId>cm-parameters-model-model</artifactId>
											<version>${version.cm-parameters-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.cm</groupId>
											<artifactId>cm-parameters-model-jar</artifactId>
											<version>${version.cm-parameters-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.ci</groupId>
											<artifactId>top-ci-model-models</artifactId>
											<version>${version.top-ci-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.onrm</groupId>
											<artifactId>oss-top-model-models</artifactId>
											<version>${version.oss-top-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.ned</groupId>
											<artifactId>network-element-definition-model-models</artifactId>
											<version>${version.network-element-definition-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.shared.generichandlers</groupId>
											<artifactId>add-node-bootstrap-models-jar</artifactId>
											<version>${version.add-node-bootstrap-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- Mediation component models -->
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model</groupId>
											<artifactId>mediation-service-model-models</artifactId>
											<version>${version.mediation-service-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation</groupId>
											<artifactId>mediation-sdk-event-models-xml</artifactId>
											<version>${version.med-sdk-event-models}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation</groupId>
											<artifactId>mediation-core-api-channel-models-xml</artifactId>
											<version>${version.mediation.core.api.channel.models.xml}</version>
											<type>jar</type>
											<overWrite>true</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.ci</groupId>
											<artifactId>top-ci-model-jar</artifactId>
											<version>${version.top.ci.model.jar}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!--artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.platformtype</groupId>
                                            <artifactId>cba-platformtype-model-jar</artifactId>
                                            <version>${version.platform.type.model.cba}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem-->
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.ned</groupId>
											<artifactId>ned-mediation-handlers-models</artifactId>
											<version>${version.ned-mediation-handlers}</version>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.ned</groupId>
											<artifactId>ned-mediation-models-models</artifactId>
											<version>${version.ned-mediation-models}</version>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.ned</groupId>
											<artifactId>ned-mediation-handlers-config-jar</artifactId>
											<version>${version.ned-mediation-handlers}</version>
											<!--classifier>xml</classifier-->
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!--artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.models</groupId>
                                            <artifactId>cba-configuration-model-jar</artifactId>
                                            <version>${version.cba.configuration.model.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.models.handlers</groupId>
                                            <artifactId>cba-cm-sync-node-handler-models-jar</artifactId>
                                            <version>${version.cba.cm.sync.node.handler.models.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.cm.models.flows</groupId>
                                            <artifactId>cba-cm-sync-node-flow-models-jar</artifactId>
                                            <version>${version.cba.cm.sync.node.flow.models.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.cm.handlers</groupId>
                                            <artifactId>cba-netconf-write-controller-handler-models-jar</artifactId>
                                            <version>${version.cba.netconf.write.controller.handler.models.jar}
                                            </version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.cm.models.handlers.netconf</groupId>
                                            <artifactId>cba-cm-netconf-handler-model-jar</artifactId>
                                            <version>${version.cba.cm.netconf.handler.model.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.models.handlers.netconf</groupId>
                                            <artifactId>cba-netconf-connect-handler-model-jar</artifactId>
                                            <version>${version.cba.netconf.connect.handler.model.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cba.models.handlers.netconf</groupId>
                                            <artifactId>cba-netconf-disconnect-handler-model-jar</artifactId>
                                            <version>${version.cba.netconf.disconnect.handler.model.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem-->
										<!-- Security models -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.ned</groupId>
											<artifactId>security-function-model-models</artifactId>
											<version>${version.security-function-model-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.security</groupId>
											<artifactId>nodesecuritymodel-xml</artifactId>
											<version>${version.nodesecuritymodel}</version>
											<type>jar</type>
											<overWrite>true</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
											<destFileName>${nodesecuritymodel-file-name}</destFileName>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.security</groupId>
											<artifactId>securitymodel-model</artifactId>
											<version>${version.securitymodel}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- Smrs -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.model</groupId>
											<artifactId>smrsservicemodel-jar</artifactId>
											<version>${version.smrsservicemodel}</version>
											<!-- <classifier>model-xml</classifier> -->
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-mode</outputDirectory>
										</artifactItem>
										<!-- fm models -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.fm.models</groupId>
											<artifactId>fmprocessedeventmodel-model</artifactId>
											<version>${version.fm-model}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.ci</groupId>
											<artifactId>generic-fm-node-ci-model-models</artifactId>
											<version>${version.generic-fm-node-ci-model-models}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!--Script Engine models -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.cli.alias.model</groupId>
											<artifactId>clialias-models</artifactId>
											<version>${version.clialias-models}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- PIB model -->
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.common</groupId>
											<artifactId>PlatformIntegrationBridgeModel-model</artifactId>
											<version>${version.pib.model}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- WORKFLOW SERVICE models -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.wfs</groupId>
											<artifactId>wfs-model</artifactId>
											<version>${version.wfs-model}</version>
											<type>jar</type>
											<overWrite>true</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- Geo -->
										<artifactItem>
											<groupId>com.ericsson.oss.services.model.geolocation</groupId>
											<artifactId>geo-location-model-xml</artifactId>
											<version>${version.geo.location.model.xml}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!--NetworkExplorer Models -->
										<artifactItem>
											<groupId>com.ericsson.oss.models.networkExplorer</groupId>
											<artifactId>networkExplorerModels-model</artifactId>
											<version>${version.network.explorer.models}</version>
											<type>jar</type>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- Dps -->
										<!--artifactItem>
                                            <groupId>com.ericsson.oss.itpf.datalayer.dps.testmodel</groupId>
                                            <artifactId>dps-test-model</artifactId>
                                            <version>${dps-test-model.version}</version>
                                            <classifier>xml</classifier>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem-->
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.datalayer.dps.model</groupId>
											<artifactId>dps-conf-models-jar</artifactId>
											<version>${dps-conf-models-jar.version}</version>
											<classifier>xml</classifier>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>

										<!-- Node models -->
										<!-- CPP node models -->
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.ci</groupId>
                                            <artifactId>cpp-ci-model-models</artifactId>
                                            <version>${version.cpp-ci-model-models}</version>
                                            <type>jar</type>
                                            <overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>erbs-node-model-common-jar</artifactId>
                                            <version>${version.erbs-node-model-common-jar}</version>
                                            <type>jar</type>
                                            <overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>rbs-node-model-common-jar</artifactId>
                                            <version>${version.rbs-node-model-common-jar}</version>
                                            <type>jar</type>
                                            <overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
										<dependency>
											<groupId>com.ericsson.oss.services.nhm</groupId>
											<artifactId>kpi-calculation-flow-model-jar</artifactId>
											<version>${version.kpi-calculation-flow-model-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<dependency>
											<groupId>com.ericsson.oss.services.eniq.topologyservice.model</groupId>
											<artifactId>eniq-topology-service-model-config-model</artifactId>
											<version>${version.eniq-topology-service-model-config-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<dependency>
											<groupId>com.ericsson.oss.services.autocellid.model</groupId>
											<artifactId>autocellidmodel-model</artifactId>
											<version>${version.autocellidmodel-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<dependency>
											<groupId>com.ericsson.oss.services.shm.models</groupId>
											<artifactId>shm-models-model</artifactId>
											<version>${version.shm-models-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<dependency>
											<groupId>com.ericsson.oss.services.pm</groupId>
											<artifactId>pmul-service-model</artifactId>
											<version>${version.pmul-service-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>erbs-node-model-1-129-20.Q1-J.4.606-jar</artifactId>
											<version>${version.erbs-node-model-1-129-20-Q1-J-4-606-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<!-- COM-ECIM models -->
										<dependency>
											<groupId>com.ericsson.oss.mediation.model.nrm.platform</groupId>
											<artifactId>com-models-jar</artifactId>
											<version>${version.com-models-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.platform</groupId>
											<artifactId>com-models-r7.0-jar</artifactId>
											<version>${version.com-models-r7.0-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>msrbsv2-node-model-common-jar</artifactId>
											<version>${version.msrbsv2-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>radionode-node-model-1-162-21.Q2-R29A13-jar</artifactId>
											<version>${version.radionode-node-model-1-162-21-Q2-R29A13-jar}</version>
											<type>jar</type>
                                            <overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<dependency>
											<groupId>com.ericsson.oss.services.healthcheck.models</groupId>
											<artifactId>nodehealthcheck-ecim-models-model</artifactId>
											<version>${version.nodehealthcheck-ecim-models-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<dependency>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>radio-common-node-model-jar</artifactId>
											<version>${version.radio-common-node-model-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
                                        <!-- SGSN-MME -->
										<!--
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.netype</groupId>
                                            <artifactId>sgsn-mme-netype-model-jar</artifactId>
                                            <version>${version.neType.sgsn-mme.model.jar}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.platformtype</groupId>
                                            <artifactId>sgsn-platformtype-model-jar</artifactId>
                                            <version>${version.platform.type.model.sgsn}</version>
                                            <type>jar</type>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        -->
										<!--Cisco/Juniper models-->
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.cm.models</groupId>
                                            <artifactId>cisco-router-cm-mediation-configuration-jar</artifactId>
                                            <version>${version.cisco-router-cm-mediation-configuration-jar}</version>
                                            <type>jar</type>
											<overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>cisco-router-node-model-common-jar</artifactId>
                                            <version>${version.cisco-router-node-model-common-jar}</version>
                                            <type>jar</type>
											<overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>cisco-asr900-node-model-common-jar</artifactId>
                                            <version>${version.cisco-asr900-node-model-common-jar}</version>
                                            <type>jar</type>
											<overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>cisco-asr9000-node-model-common-jar</artifactId>
                                            <version>${version.cisco-asr9000-node-model-common-jar}</version>
                                            <type>jar</type>
											<overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
                                        <artifactItem>
                                            <groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
                                            <artifactId>juniper-mx-node-model-common-jar</artifactId>
                                            <version>${version.juniper-mx-node-model-common-jar}</version>
                                            <type>jar</type>
											<overWrite>false</overWrite>
                                            <outputDirectory>${project.build.directory}/test-model</outputDirectory>
                                        </artifactItem>
										<dependency>
											<groupId>com.ericsson.oss.mediation.cm.flow</groupId>
											<artifactId>snmp-cm-flows-model</artifactId>
											<version>${version.snmp-cm-flows-model}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</dependency>
										<!-- MINI-LINK Indoor & Outdoor models -->
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-indoor-node-model-common-jar</artifactId>
											<version>${version.mini-link-indoor-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-6366-shm-model</artifactId>
											<version>${version.mini-link-6366-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-6352-node-model-common-jar</artifactId>
											<version>${version.mini-link-6352-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-6351-node-model-common-jar</artifactId>
											<version>${version.mini-link-6351-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-pt2020-node-model-common-jar</artifactId>
											<version>${version.mini-link-pt2020-node-model-common-jar}</version>
											<type>jar</type>
                                            <overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-cn210-shm-model</artifactId>
											<version>${version.mini-link-cn210-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>&gt;
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-665x-shm-model</artifactId>
											<version>${version.mini-link-665x-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-669x-shm-model</artifactId>
											<version>${version.mini-link-669x-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-cn510r2-shm-model</artifactId>
											<version>${version.mini-link-cn510r2-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-cn810r1-shm-model</artifactId>
											<version>${version.mini-link-cn810r1-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-cn810r2-shm-model</artifactId>
											<version>${version.mini-link-cn810r2-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>mini-link-cn510r1-shm-model</artifactId>
											<version>${version.mini-link-cn510r1-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.model.nrm.function</groupId>
											<artifactId>fronthaul-6392-node-model-common-jar</artifactId>
											<version>${version.fronthaul-6392-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
										<artifactItem>
											<groupId>com.ericsson.oss.mediation.nrm.function</groupId>
											<artifactId>switch-6391-node-model-common-jar</artifactId>
											<version>${version.switch-6391-node-model-common-jar}</version>
											<type>jar</type>
											<overWrite>false</overWrite>
											<outputDirectory>${project.build.directory}/test-model</outputDirectory>
										</artifactItem>
									</artifactItems>
								</configuration>
							</execution>
							<execution>
								<id>download-neo4j</id>
								<phase>generate-test-resources</phase>
								<goals>
									<goal>copy</goal>
								</goals>
								<configuration>
									<outputDirectory>${neo4jDir}</outputDirectory>
									<stripVersion>true</stripVersion>
									<artifactItems>
										<artifactItem>
											<groupId>com.ericsson.oss.itpf.datalayer.dps.3pp</groupId>
											<artifactId>neo4j-java-driver-harness</artifactId>
											<!-- 
											<version>${version.neo4j-java-driver-harness-jar}</version>
											-->
											<classifier>shaded</classifier>
										</artifactItem>
									</artifactItems>
								</configuration>
							</execution>
						</executions>
					</plugin>

					<plugin>
						<artifactId>maven-resources-plugin</artifactId>
						<executions>
							<execution>
								<id>copy-resources-1</id>
								<phase>process-resources</phase>
								<goals>
									<goal>copy-resources</goal>
								</goals>
								<configuration>
									<outputDirectory>${jboss.home}/standalone/configuration/</outputDirectory>
									<resources>
										<resource>
											<directory>src/test/resources/</directory>
											<includes>
												<include>standalone-full.xml</include>
											</includes>
											<filtering>true</filtering>
										</resource>
									</resources>
								</configuration>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>com.ericsson.oss.itpf.modeling</groupId>
						<artifactId>model-deployment-jar</artifactId>
						<version>${version.model.deployment.tool}</version>
						<dependencies>
							<dependency>
								<groupId>com.ericsson.oss.itpf.modeling</groupId>
								<artifactId>default-mdt-plugins-jar</artifactId>
								<version>${version.model.deployment.tool}</version>
							</dependency>
						</dependencies>
						<configuration>
							<jarFolder>${project.build.directory}/test-model</jarFolder>
							<modelRoot>${project.build.directory}/deployed-model</modelRoot>
							<xmlRepo>${project.build.directory}/deployed-model/modelRepo.xml</xmlRepo>
						</configuration>
						<executions>
							<execution>
								<id>deploy-models</id>
								<phase>process-test-resources</phase>
								<goals>
									<goal>model-deploy</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>exec-maven-plugin</artifactId>
						<executions>
							<execution>
								<id>exec-neo4j</id>
								<phase>process-test-resources</phase>
								<!--phase>pre-integration-test</phase-->
								<goals>
									<goal>exec</goal>
								</goals>
								<configuration>
									<workingDirectory>${neo4jDir}</workingDirectory>
									<executable>java</executable>
									<arguments>
										<argument>-Djava.io.tmpdir=${neo4jDir}</argument>
										<argument>-jar</argument>
										<argument>neo4j-java-driver-harness-shaded.jar</argument>
									</arguments>
									<outputFile>${neo4jDir}/neo4j.log</outputFile>
									<async>true</async>
									<asyncDestroyOnShutdown>true</asyncDestroyOnShutdown>
								</configuration>
							</execution>
							<execution>
								<id>rename-sdk-security-accesscontrol-non-cdi-jar-config-1</id>
								<phase>process-test-classes</phase>
								<configuration>
									<executable>cp</executable>
									<arguments>
										<argument>
											target/test-classes/META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl.BypassAll
										</argument>
										<argument>
											target/test-classes/META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl
										</argument>
									</arguments>
								</configuration>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
							<execution>
								<id>update-sdk-security-accesscontrol-non-cdi-jar-config-1</id>
								<phase>process-test-classes</phase>
								<configuration>
									<executable>jar</executable>
									<arguments>
										<argument>uvf</argument>
										<argument>
											${jboss.home}/modules/system/layers/base/com/ericsson/oss/itpf/sdk/service-framework/4.x/sdk-security-accesscontrol-non-cdi-${version.service.framework}.jar
										</argument>
										<argument>-C</argument>
										<argument>target/test-classes</argument>
										<argument>
											META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl
										</argument>
									</arguments>
								</configuration>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
							<execution>
								<id>update-sdk-security-accesscontrol-non-cdi-jar-impl-1</id>
								<phase>process-test-classes</phase>
								<configuration>
									<executable>jar</executable>
									<arguments>
										<argument>uvf</argument>
										<argument>
											${jboss.home}/modules/system/layers/base/com/ericsson/oss/itpf/sdk/service-framework/4.x/sdk-security-accesscontrol-non-cdi-${version.service.framework}.jar
										</argument>
										<argument>-C</argument>
										<argument>target/test-classes</argument>
										<argument>
											com/ericsson/oss/itpf/sdk/security/accesscontrol/classic/EAccessControlBypassAllImpl.class
										</argument>
									</arguments>
								</configuration>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
							<execution>
								<id>update-nscs-properties1</id>
								<phase>process-test-resources</phase>
								<configuration>
									<executable>cp</executable>
									<arguments>
										<argument>-f</argument>
										<argument>src/test/resources/nscs.properties.arquillian</argument>
										<argument>/tmp/nscs.properties</argument>
									</arguments>
								</configuration>
								<goals>
									<goal>exec</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>org.sonatype.plugins</groupId>
						<artifactId>wait-maven-plugin</artifactId>
						<version>1.0</version>
						<configuration>
							<protocol>http</protocol>
							<host>localhost</host>
							<port>7474</port>
							<file>/</file>
							<timeout>5000</timeout>
							<maxcount>20</maxcount>
						</configuration>
						<executions>
							<execution>
								<id>wait-neo4j</id>
								<phase>process-test-resources</phase>
								<!--phase>pre-integration-test</phase-->
								<goals>
									<goal>wait</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>com.ericsson.oss.itpf.datalayer.dps</groupId>
						<artifactId>dps-maven-plugin</artifactId>
						<version>${version.dps}</version>
						<configuration>
							<persistenceLayer>Neo4J</persistenceLayer>
							<workDir>${project.build.directory}/dps_work</workDir>
							<outputDir>${generated.dps.ear.dir}</outputDir>
							<modelDir>${project.build.directory}/deployed-model</modelDir>
							<modelRepoXmlPath>${project.build.directory}/deployed-model/modelRepo.xml</modelRepoXmlPath>
							<eapVersion>7</eapVersion>
							<schemaUpdate>true</schemaUpdate>
							<jBossDir>${jboss.home}</jBossDir>
							<useMockDelegate>true</useMockDelegate>
							<overWriteIfPresent>false</overWriteIfPresent>
						</configuration>
						<executions>
							<execution>
								<id>run-dps-maven-plugin</id>
								<phase>process-test-resources</phase>
								<goals>
									<goal>build-dps</goal>
								</goals>
							</execution>
						</executions>
					</plugin>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<systemProperties>
								<jboss.home>${jboss.home}</jboss.home>
								<arquillian.launch>jboss_managed</arquillian.launch>
								<XML_REPO_PATH>${project.build.directory}/deployed-model/modelRepo.xml</XML_REPO_PATH>
								<xmlRepo>${project.build.directory}/deployed-model/modelRepo.xml</xmlRepo>
								<VERSION_DPS>${version.dps}</VERSION_DPS>
								<VERSION_NEO4J_JCA_RAR>${version.neo4.jca.rar}</VERSION_NEO4J_JCA_RAR>
							</systemProperties>
							<excludes>
								<exclude>**/glassfish/*</exclude>
								<exclude>${testsToSkip}</exclude>
							</excludes>
						</configuration>
					</plugin>
				</plugins>
			</build>
		</profile>

		<profile>
		    <id>opendj_local</id>
		    <activation>
		        <activeByDefault>false</activeByDefault>
		    </activation>
		    <properties>
		        <version.opendj>2.6.0</version.opendj>
		        <opendj.home>opendj-test</opendj.home>
		        <stop_ds>opendj-test/opendj</stop_ds>
		        <stop_ds_wrapper>${basedir}/src/test/scripts/stop-ds.bat</stop_ds_wrapper>
		    </properties>
		    <dependencies>
		        <dependency>
		            <groupId>org.forgerock.opendj</groupId>
		            <artifactId>opendj-test</artifactId>
		            <version>2.6.0</version>
		            <type>tar.gz</type>
		        </dependency>
		    </dependencies>
		    <build>
		        <plugins>
		            <plugin>
		                <groupId>org.apache.maven.plugins</groupId>
		                <artifactId>maven-dependency-plugin</artifactId>
		                <executions>
		                    <execution>
		                        <id>unpack_opendj</id>
		                        <phase>process-resources</phase>
		                        <goals>
		                            <goal>unpack</goal>
		                        </goals>
		                        <configuration>
		                            <artifactItems>
		                                <artifactItem>
		                                    <groupId>org.forgerock.opendj</groupId>
		                                    <artifactId>opendj-test</artifactId>
		                                    <version>${version.opendj}</version>
		                                    <type>tar.gz</type>
		                                    <overWrite>false</overWrite>
		                                    <outputDirectory>${opendj.home}</outputDirectory>
		                                </artifactItem>
		                            </artifactItems>
		                        </configuration>
		                    </execution>
		                </executions>
		            </plugin>
		            <plugin>
		                <groupId>org.apache.maven.plugins</groupId>
		                <artifactId>maven-clean-plugin</artifactId>
		                <version>2.5</version>
		                <executions>
		                    <execution>
		                        <id>clean-opendj</id>
		                        <phase>clean</phase>
		                        <goals>
		                            <goal>clean</goal>
		                        </goals>
		                    </execution>
		                </executions>
		                <configuration>
		                    <filesets>
		                        <fileset>
		                            <directory>${opendj.home}</directory>
		                        </fileset>
		                    </filesets>
		                    <followSymLinks>true</followSymLinks>
		                </configuration>
		            </plugin>
		            <!-- If OpenDJ is running, it has locks on logs files that cause clean 1 (rm target) to fail. So we stop OpenDJ here. -->
		            <plugin>
		                <groupId>org.codehaus.mojo</groupId>
		                <artifactId>exec-maven-plugin</artifactId>
		                <executions>
		                    <execution>
		                        <id>stop-opendj</id>
		                        <phase>pre-clean</phase>
		                        <configuration>
		                            <executable>${stop_ds_wrapper}</executable>
		                            <arguments>
		                                <argument>${stop_ds}</argument>
		                            </arguments>
		                        </configuration>
		                        <goals>
		                            <goal>exec</goal>
		                        </goals>
		                    </execution>
		                    <execution>
		                        <id>rename-sdk-security-accesscontrol-non-cdi-jar-config-2</id>
		                        <phase>process-test-classes</phase>
		                        <configuration>
		                            <executable>cp</executable>
		                            <arguments>
		                                <argument>
		                                    target/test-classes/META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl.BypassAll
		                                </argument>
		                                <argument>
		                                    target/test-classes/META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl
		                                </argument>
		                            </arguments>
		                        </configuration>
		                        <goals>
		                            <goal>exec</goal>
		                        </goals>
		                    </execution>
		                    <execution>
		                        <id>update-sdk-security-accesscontrol-non-cdi-jar-config-2</id>
		                        <phase>process-test-classes</phase>
		                        <configuration>
		                            <executable>jar</executable>
		                            <arguments>
		                                <argument>uvf</argument>
		                                <argument>
		                                    ${project.build.directory}/jboss-eap-${version.jboss.as}/modules/system/layers/base/com/ericsson/oss/itpf/sdk/service-framework/4.x/sdk-security-accesscontrol-non-cdi-${version.service.framework}.jar
		                                </argument>
		                                <argument>-C</argument>
		                                <argument>target/test-classes</argument>
		                                <argument>
		                                    META-INF/services/com.ericsson.oss.itpf.sdk.security.accesscontrol.EAccessControl
		                                </argument>
		                            </arguments>
		                        </configuration>
		                        <goals>
		                            <goal>exec</goal>
		                        </goals>
		                    </execution>
		                    <execution>
		                        <id>update-sdk-security-accesscontrol-non-cdi-jar-impl-2</id>
		                        <phase>process-test-classes</phase>
		                        <configuration>
		                            <executable>jar</executable>
		                            <arguments>
		                                <argument>uvf</argument>
		                                <argument>
		                                    ${project.build.directory}/jboss-eap-${version.jboss.as}/modules/system/layers/base/com/ericsson/oss/itpf/sdk/service-framework/4.x/sdk-security-accesscontrol-non-cdi-${version.service.framework}.jar
		                                </argument>
		                                <argument>-C</argument>
		                                <argument>target/test-classes</argument>
		                                <argument>
		                                    com/ericsson/oss/itpf/sdk/security/accesscontrol/classic/EAccessControlBypassAllImpl.class
		                                </argument>
		                            </arguments>
		                        </configuration>
		                        <goals>
		                            <goal>exec</goal>
		                        </goals>
		                    </execution>
		                    <execution>
		                        <id>update-nscs-properties</id>
		                        <phase>process-test-resources</phase>
		                        <configuration>
		                            <executable>cp</executable>
		                            <arguments>
		                                <argument>-f</argument>
		                                <argument>src/test/resources/nscs.properties.arquillian</argument>
		                                <argument>/tmp/nscs.properties</argument>
		                            </arguments>
		                        </configuration>
		                        <goals>
		                            <goal>exec</goal>
		                        </goals>
		                    </execution>
		                </executions>
		            </plugin>
		            <plugin>
		                <groupId>org.apache.maven.plugins</groupId>
		                <artifactId>maven-surefire-plugin</artifactId>
		                <configuration>
		                    <systemProperties>
		                        <sfwk.opendj.installed>true</sfwk.opendj.installed>
		                        <buildDirectory>${project.build.directory}</buildDirectory>
		                    </systemProperties>
		                </configuration>
		            </plugin>
		        </plugins>
		    </build>
		</profile>
	    <profile>
	        <id>docker</id>
	        <activation>
	            <activeByDefault>false</activeByDefault>
	        </activation>
	
	        <dependencies>
				<dependency>
					<groupId>org.wildfly.arquillian</groupId>
					<artifactId>wildfly-arquillian-container-managed</artifactId>
					<version>${version.wildfly-arquillian-container-managed}</version>
					<scope>test</scope>
				</dependency>
	        </dependencies>
	        <build>
	            <plugins>
	                <plugin>
	                    <groupId>org.apache.maven.plugins</groupId>
	                    <artifactId>maven-failsafe-plugin</artifactId>
	                    <version>2.16</version>
	                    <executions>
	                        <execution>
	                            <id>integration-test</id>
	                            <goals>
	                                <goal>integration-test</goal>
	                                <goal>verify</goal>
	                            </goals>
	                        </execution>
	                    </executions>
	                </plugin>
	                <plugin>
	                    <groupId>org.apache.maven.plugins</groupId>
	                    <artifactId>maven-surefire-plugin</artifactId>
	                    <dependencies>
	                        <dependency>
	                            <groupId>org.apache.maven.surefire</groupId>
	                            <artifactId>surefire-junit47</artifactId>
	                            <version>2.17</version>
	                        </dependency>
	                    </dependencies>
	                    <configuration>
	                        <skipTests>false</skipTests>
	                        <testNGArtifactName>none:none</testNGArtifactName>
	                        <systemProperties>
	                            <arquillian.launch>jboss_docker</arquillian.launch>
	                        </systemProperties>
	                    </configuration>
	                </plugin>
	                <plugin>
	                    <groupId>org.codehaus.mojo</groupId>
	                    <artifactId>properties-maven-plugin</artifactId>
	                    <version>1.0-alpha-2</version>
	                    <executions>
	                        <execution>
	                            <!-- any phase before your app deploys -->
	                            <phase>prepare-package</phase>
	                            <goals>
	                                <goal>set-system-properties</goal>
	                            </goals>
	                            <configuration>
	                                <properties>
	                                    <property>
	                                        <name>deploy.artifacts</name>
	                                        <value>false</value>
	                                    </property>
	                                </properties>
	                            </configuration>
	                        </execution>
	                    </executions>
	                </plugin>
	            </plugins>
	        </build>
	    </profile>
	</profiles>

	<build>
		<pluginManagement>
			<plugins>
				<!--This plugin's configuration is used to store Eclipse m2e settings 
					only. It has no influence on the Maven build itself. -->
				<plugin>
					<groupId>org.eclipse.m2e</groupId>
					<artifactId>lifecycle-mapping</artifactId>
					<version>1.0.0</version>
					<configuration>
						<lifecycleMappingMetadata>
							<pluginExecutions>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>com.ericsson.maven.plugins</groupId>
										<artifactId>maven-enforcer-plugin</artifactId>
										<versionRange>[1.0.1,)</versionRange>
										<goals>
											<goal>enforce</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
								<pluginExecution>
									<pluginExecutionFilter>
										<groupId>com.ericsson.maven.plugins</groupId>
										<artifactId>rstate-maven-plugin</artifactId>
										<versionRange>[1.0,)</versionRange>
										<goals>
											<goal>rstate</goal>
										</goals>
									</pluginExecutionFilter>
									<action>
										<ignore />
									</action>
								</pluginExecution>
							</pluginExecutions>
						</lifecycleMappingMetadata>
					</configuration>
				</plugin>
			</plugins>
		</pluginManagement>
	</build>
</project>
